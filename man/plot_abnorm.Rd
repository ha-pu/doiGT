% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_abnorm.r
\name{plot_abnorm}
\alias{plot_abnorm}
\alias{plot_abnorm.abnorm_score}
\alias{plot_abnorm.abnorm_voi}
\alias{plot_abnorm.abnorm_doi}
\title{Plot changes in data}
\usage{
plot_abnorm(data, ...)

\method{plot_abnorm}{abnorm_score}(data, ci = 0.95)

\method{plot_abnorm}{abnorm_voi}(data, ci = 0.95)

\method{plot_abnorm}{abnorm_doi}(data, type = "obs", ci = 0.95)
}
\arguments{
\item{data}{Object of class \code{exp_score}, \code{exp_voi} or
\code{exp_doi} generated through \code{export_...} functions.}

\item{ci}{Confidence interval within which changes are assumed to be normal.
Object of class \code{double, 0 < ci < 1}. Defaults to \emph{0.95}.}

\item{type}{Type of time series for which data should be exported. Element
of class \code{character}. Relevant only for \code{export_global} and
\code{export_doi}. Takes one of the following values: \emph{obs} - observed
search scores, \emph{sad} - seasonally adjusted search scores, \emph{trd} -
trend only search scores.}

\item{data_change}{Data exported from \code{compute_abnorm} function.}
}
\value{
Line plot of change time series as \code{ggplot2} object. Changes with
percentile ranks outside the provided confidence interval are indicated by
red dots.
}
\description{
The function uses the output of \code{export_voi_change} and
\code{export_doi_change} to prepare a time series plot of changes in VOI or
DOI. When the output includes more than one keyword, only the first keyword
is used. Dots indicate abnormal changes in the underlying time series.
}
\examples{
\dontrun{
export_voi_change(
  keyword = "amazon",
  type = "obs"
)
plot_voi_change(data_change = data)

data <- export_doi_change(
  keyword = "amazon",
  locations = "countries",
  type = "obs",
  measure = "gini"
)
plot_doi_change(data_change = data)
}

}
\seealso{
* \code{\link{compute_abnorm}}
* \code{\link[purrr]{map}}
* \code{\link[dplyr]{filter}}
}
